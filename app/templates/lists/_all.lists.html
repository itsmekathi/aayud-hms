{% extends "layout.html" %}
{% block content %}
<script type="text/javascript">
    (function () {
        'use strict';
        angular.module('app')
            .constant('ListConstants',
                {
                    "ListsHeaderUri": "{{ url_for('api.list_headers') }}",
                    'ListTypeLookupsUri': "{{ url_for('api.list_types') }}"
                });
    })();
</script>
<script src="{{ url_for('static', filename='scripts/app/lists/lists.dataservice.js')}}"></script>
<script src="{{ url_for('static', filename='scripts/app/lists/lists.controller.js')}}"></script>
<div class="content-section" ng-controller="ListsController">
    <div class="row">
        <div class="col-md-8">
            {% raw %}
            <h3 ng-if="listTypes.length > 0">Existing Items: {{listTypes.length}}</h3>
            <h3 ng-if="listTypes.length == 0">No items found</h3>
            {% endraw %}
        </div>
        <div class="col-md-4">
            <button class="btn btn-primary mb-4 pull-right" ng-click="showAdvanced($event)"><i
                    class="fas fa-plus-circle"></i>Add New</button>
        </div>
    </div>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <td>#</td>
                <td>Name</td>
                <td>Description</td>
                <td>SortOrder</td>
                <td>Actions</td>
            </tr>
        </thead>
        <tbody>
            {% raw %}
            <tr ng-repeat="listType in listTypes">
                <td>{{ listType.id }}</td>
                <td><span ng-if="!listType.isEdit">{{ listType.name }}</span> <span ng-if="listType.isEdit"><input
                            type="text" class="form-control" ng-model="listType.name"></span></td>
                <td><span ng-if="!listType.isEdit">{{ listType.description }}</span>
                    <span ng-if="listType.isEdit"><input type="text" class="form-control"
                            ng-model="listType.description"></span>
                </td>
                <td><span ng-if="!listType.isEdit">{{ listType.sortOrder}}</span>
                    <span ng-if="listType.isEdit"><input type="number" class="form-control"
                            ng-model="listType.sortOrder"></span></td>
                <td>
                    <div>
                        <span ng-if="!listType.isEdit"><a href="#" class="btn" title="Edit Item"
                                ng-click="listType.isEdit = true"><i class="fas fa-edit" style="color:antiquewhite;"
                                    aria-hidden="true"></i></a></span>
                        <span ng-if="!listType.isEdit"><a href="#" ng-click="showConfirm($event, {{ listType.id }} )"
                                class="btn" title="Delete Item"><i class="fas fa-trash-alt"
                                    style="color:red;"></i></a></span>
                        <span ng-if="!listType.isEdit"><a href="#" ng-click="moveItemDialog( $event, {{ listType.id }})"
                                class="btn" title="Move item"><i class="fas fa-expand-arrows-alt"
                                    style="color:cadetblue;"></i></a></span>
                        <span ng-if="listType.isEdit"><a href="#" ng-click="saveItem({{ listType.id }})" class="btn"
                                title="Save Changes"><i class="fas fa-save"
                                    style="color:lightseagreen;"></i></a></span>
                        <span ng-if="listType.isEdit" ng-click="listType.isEdit = false">
                            <a class="btn" href="#" title="Cancel"><i class="fas fa-window-close"
                                    style="color:brown;"></i></a></span>
                    </div>
                </td>
            </tr>
            {% endraw %}
        </tbody>
    </table>
</div>
{% endblock content %}